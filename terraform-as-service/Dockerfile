FROM golang:1.16-alpine

WORKDIR /app

ENV AWS_ACCESS_KEY_ID="ASIAYHY77PTSFOODQ7YH"
ENV AWS_SECRET_ACCESS_KEY="dInU0p93j4JJTPTQhcnVKaGGm/jMD89d7eroNyhw"
ENV AWS_SESSION_TOKEN="IQoJb3JpZ2luX2VjEJr//////////wEaCXVzLWVhc3QtMSJGMEQCIF2y9/4sNZefhWwFvqbBwftauaxl+NqcB30+XQhDLAL3AiBOHBY0oMg+M+P2gbFCOKOs1ie3MFcADZgitqlGqecZFiqhAwii//////////8BEAEaDDU2NjQ2NTg4NzQ2MCIMg6qknHV/jA4o9UjXKvUCRcPAbJD5tZdE64vywDre/hcwxasBCwr4FUnUcyCwn5qAgdgB/DbYrZHLsBGOXpnpiuK0vQFu7MfsbZReUSn/weCJ7KOdZMJh2nUWdhutR8nicgIi5GgYbFY98t7bC9NN5xVUtrxWqYWkB5X881vMBy0Qi3oVc5qzri0a1g2Kh0HE1M9/DVQuaGgJ1MA3yAmjJVW12T9XV0YDMYKTQ20jvltYFGxXhr80sAKHk22/hCy+o8Dc3MrPGfA2qqUxMr96sV43Dj18JODiwHNkcYwpZsQlJBZawERa4ZRGZYgYJxFYhi/hkZyVl9nIV4X2b16/smO8G7inSWaCiLlBSme7lsWhurUCBDw0znL5L0mppYiUQNPl+hPJmNYv3WS3odIUhjNZMxCTJO9gBh/AaL0lrLBGkLThe5d8d6+s4Iq0JY8cI7owQRyp1XKupAcwnXeN4d9e7l2+gR+7RDOAc2ZHFhDpsJpPeEU9TX02m3Kz59l+lnHbmzD8hI+IBjqnAQA6R9Zlw70kZNzkjH4Kj23HPSm61vTm9eA6JfdbZKUZ7q2cGyAS29ibCHQ+ozCEJJfm5rH/UV/3celEe5GRznXvLnShg2Bj6n/khCzmPfrXZMkFU/Q8uOTHE70NQyf6t9537Hlrqc+rjQfonyjkcdm4DzeBEXevdzzaRsvuCG2glwK1qBFIeojCXeQBJ0t955kRxMQ8SdS3FCU0QMUSVt0I2utuZpXF"

COPY go.mod go.sum ./

RUN go mod download

COPY . .

RUN go build -o main .

EXPOSE 8080

CMD ["./main"]